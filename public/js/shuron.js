// Generated by CoffeeScript 1.3.1
(function() {
  var LIMITS, showLimit, showStamps;

  LIMITS = {
    titleSubmit: new Date(2012, 3, 13, 16, 50),
    titleChange1: new Date(2012, 6, 22, 16, 50),
    midPresentation: new Date(2012, 9, 20, 9, 30),
    titleChangeLast: new Date(2012, 11, 14, 16, 50),
    thesisSubmit: new Date(2013, 0, 11, 15, 0),
    lastPresentation: new Date(2013, 0, 31, 9, 30)
  };

  showLimit = function() {
    var day, gap, hour, limit, min, now, sec;
    now = new Date();
    limit = LIMITS['thesisSubmit'];
    if (LIMITS['thesisSubmit'] > now) {
      gap = (limit.getTime() - now.getTime()) / 1000;
      day = Math.floor(gap / 86400.);
      hour = ("0" + Math.floor((gap % 86400) / 3600)).slice(-2);
      min = ("0" + Math.floor((gap % 86400) / 60 % 60)).slice(-2);
      sec = ("0" + Math.floor((gap % 86400) % 60 % 60)).slice(-2);
      jQuery("#limit .day").text(day);
      jQuery("#limit .hour").text(hour);
      jQuery("#limit .min").text(min);
      return jQuery("#limit .sec").text(sec);
    } else {
      return jQuery("#limit").empty().text("お疲れ様でした！");
    }
  };

  showStamps = function() {
    var id, now, stamp, _results;
    now = new Date();
    _results = [];
    for (id in LIMITS) {
      if (LIMITS[id] < now) {
        stamp = jQuery('<div>').text('済').addClass('stamp');
        _results.push(jQuery("#" + id).append(stamp));
      } else {
        _results.push(void 0);
      }
    }
    return _results;
  };

  jQuery(function() {
    showStamps();
    return setInterval(showLimit, 50);
  });

}).call(this);
